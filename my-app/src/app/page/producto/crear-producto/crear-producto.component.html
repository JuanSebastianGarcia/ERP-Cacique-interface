<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crear Producto - Cacique ERP</title>
</head>

<body>

    <button class="close-btn" (click)="cerrarModal()">Ã—</button>
    
    <!-- Modal para Agregar Producto -->
    <div class="modal-overlay" [class.active]="isModalMode" (click)="onOverlayClick($event)">
        <div class="form-container" (click)="$event.stopPropagation()">
            <!-- Close button -->
            <button *ngIf="isModalMode" class="close-btn" (click)="cancelarCreacion()" 
                    title="Cerrar modal" 
                    aria-label="Cerrar modal">Ã—</button>

            <!-- Form Header -->
            <div class="form-header">
                <h2 class="form-title">AGREGAR UN PRODUCTO</h2>
                <p class="form-subtitle">Complete todos los campos para agregar un nuevo producto al inventario</p>
            </div>

            <!-- Form -->
            <form (ngSubmit)="agregarProducto()" #productForm="ngForm">
                <div class="form-grid">
                    <!-- Left Column -->
                    <div class="form-column">
                        <div class="form-group">
                            <label class="form-label">Prendas</label>
                            <div class="mat-form-field-custom">
                                <div class="mat-form-field-wrapper">
                                    <select class="mat-select-trigger" [(ngModel)]="productoData.prenda" name="prenda" required>
                                        <option value="" disabled>Selecciona una prenda</option>
                                        <option *ngFor="let prenda of prendas" [value]="prenda.value">
                                            {{prenda.viewValue}}
                                        </option>
                                    </select>
                                    <span class="mat-select-arrow"></span>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Instituciones</label>
                            <div class="mat-form-field-custom">
                                <div class="mat-form-field-wrapper">
                                    <select class="mat-select-trigger" [(ngModel)]="productoData.institucion" name="institucion" required>
                                        <option value="" disabled>Selecciona una instituciÃ³n</option>
                                        <option *ngFor="let institucion of instituciones" [value]="institucion.value">
                                            {{institucion.viewValue}}
                                        </option>
                                    </select>
                                    <span class="mat-select-arrow"></span>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Tallas</label>
                            <div class="mat-form-field-custom">
                                <div class="mat-form-field-wrapper">
                                    <select class="mat-select-trigger" [(ngModel)]="productoData.talla" name="talla" required>
                                        <option value="" disabled>Selecciona una talla</option>
                                        <option *ngFor="let talla of tallas" [value]="talla.value">
                                            {{talla.viewValue}}
                                        </option>
                                    </select>
                                    <span class="mat-select-arrow"></span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Right Column -->
                    <div class="form-column">
                        <div class="form-group">
                            <label class="form-label">Horarios</label>
                            <div class="mat-form-field-custom">
                                <div class="mat-form-field-wrapper">
                                    <select class="mat-select-trigger" [(ngModel)]="productoData.horario" name="horario" required>
                                        <option value="" disabled>Selecciona un horario</option>
                                        <option *ngFor="let horario of horarios" [value]="horario.value">
                                            {{horario.viewValue}}
                                        </option>
                                    </select>
                                    <span class="mat-select-arrow"></span>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="form-label">GÃ©neros</label>
                            <div class="mat-form-field-custom">
                                <div class="mat-form-field-wrapper">
                                    <select class="mat-select-trigger" [(ngModel)]="productoData.genero" name="genero" required>
                                        <option value="" disabled>Selecciona un gÃ©nero</option>
                                        <option *ngFor="let genero of generos" [value]="genero.value">
                                            {{genero.viewValue}}
                                        </option>
                                    </select>
                                    <span class="mat-select-arrow"></span>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Precio</label>
                            <div class="mat-form-field-custom">
                                <div class="mat-form-field-wrapper">
                                    <span class="mat-form-field-prefix">$</span>
                                    <input 
                                        class="mat-input-element"
                                        type="number" 
                                        [(ngModel)]="productoData.precio" 
                                        name="precio" 
                                        placeholder="0"
                                        min="0"
                                        step="1000"
                                        required
                                    >
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Cantidad</label>
                            <div class="mat-form-field-custom">
                                <div class="mat-form-field-wrapper">
                                    <span class="mat-form-field-prefix">ðŸ“¦</span>
                                    <input 
                                        class="mat-input-element"
                                        type="number" 
                                        [(ngModel)]="productoData.cantidad" 
                                        name="cantidad" 
                                        placeholder="0"
                                        min="0"
                                        step="1"
                                        required
                                    >
                                </div>
                            </div>
                        </div>

                        
                    </div>
                </div>

                <!-- Action Buttons -->
                <div class="form-actions">
                    <button  type="button" class="btn btn-form-secondary btn-cancel" (click)="cancelarCreacion()">
                        Cancelar
                    </button>
                    <button 
                        type="submit" 
                        class="btn btn-form-primary" 
                        (click)="agregarProducto()"
                    >
                        Agregar producto
                    </button>
                </div>
            </form>
        </div>
    </div>
</body>

</html>